(()=>{try{self["workbox:core:5.1.4"]&&_()}catch{}var z=(s,...e)=>{let t=s;return e.length>0&&(t+=` :: ${JSON.stringify(e)}`),t};var I=z;var p=class extends Error{constructor(e,t){let r=I(e,t);super(r);this.name=e,this.details=t}};try{self["workbox:routing:5.1.4"]&&_()}catch{}var j="GET";var x=s=>s&&typeof s=="object"?s:{handle:s};var m=class{constructor(e,t,r=j){this.handler=x(t),this.match=e,this.method=r}};var O=class extends m{constructor(e,t,r){let o=({url:n})=>{let a=e.exec(n.href);if(!!a&&!(n.origin!==location.origin&&a.index!==0))return a.slice(1)};super(o,t,r)}};var P=s=>new URL(String(s),location.href).href.replace(new RegExp(`^${location.origin}`),"");var T=class{constructor(){this._routes=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{let{request:t}=e,r=this.handleRequest({request:t,event:e});r&&e.respondWith(r)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&e.data.type==="CACHE_URLS"){let{payload:t}=e.data,r=Promise.all(t.urlsToCache.map(o=>{typeof o=="string"&&(o=[o]);let n=new Request(...o);return this.handleRequest({request:n})}));e.waitUntil(r),e.ports&&e.ports[0]&&r.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:t}){let r=new URL(e.url,location.href);if(!r.protocol.startsWith("http"))return;let{params:o,route:n}=this.findMatchingRoute({url:r,request:e,event:t}),a=n&&n.handler,i=[];if(!a&&this._defaultHandler&&(a=this._defaultHandler),!a)return;let c;try{c=a.handle({url:r,request:e,event:t,params:o})}catch(u){c=Promise.reject(u)}return c instanceof Promise&&this._catchHandler&&(c=c.catch(u=>this._catchHandler.handle({url:r,request:e,event:t}))),c}findMatchingRoute({url:e,request:t,event:r}){let o=this._routes.get(t.method)||[];for(let n of o){let a,i=n.match({url:e,request:t,event:r});if(i)return a=i,(Array.isArray(i)&&i.length===0||i.constructor===Object&&Object.keys(i).length===0||typeof i=="boolean")&&(a=void 0),{route:n,params:a}}return{}}setDefaultHandler(e){this._defaultHandler=x(e)}setCatchHandler(e){this._catchHandler=x(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new p("unregister-route-but-not-found-with-method",{method:e.method});let t=this._routes.get(e.method).indexOf(e);if(t>-1)this._routes.get(e.method).splice(t,1);else throw new p("unregister-route-route-not-registered")}};var b,D=()=>(b||(b=new T,b.addFetchListener(),b.addCacheListener()),b);function R(s,e,t){let r;if(typeof s=="string"){let n=new URL(s,location.href),a=({url:i})=>i.href===n.href;r=new m(a,e,t)}else if(s instanceof RegExp)r=new O(s,e,t);else if(typeof s=="function")r=new m(s,e,t);else if(s instanceof m)r=s;else throw new p("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return D().registerRoute(r),r}var d={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration<"u"?registration.scope:""},L=s=>[d.prefix,s,d.suffix].filter(e=>e&&e.length>0).join("-"),Z=s=>{for(let e of Object.keys(d))s(e)},f={updateDetails:s=>{Z(e=>{typeof s[e]=="string"&&(d[e]=s[e])})},getGoogleAnalyticsName:s=>s||L(d.googleAnalytics),getPrecacheName:s=>s||L(d.precache),getPrefix:()=>d.prefix,getRuntimeName:s=>s||L(d.runtime),getSuffix:()=>d.suffix};var U=new Set;async function B(){for(let s of U)await s()}var v={filter:(s,e)=>s.filter(t=>e in t)};var G=async({request:s,mode:e,plugins:t=[]})=>{let r=v.filter(t,"cacheKeyWillBeUsed"),o=s;for(let n of r)o=await n.cacheKeyWillBeUsed.call(n,{mode:e,request:o}),typeof o=="string"&&(o=new Request(o));return o},ee=async({request:s,response:e,event:t,plugins:r=[]})=>{let o=e,n=!1;for(let a of r)if("cacheWillUpdate"in a&&(n=!0,o=await a.cacheWillUpdate.call(a,{request:s,response:o,event:t}),!o))break;return n||(o=o&&o.status===200?o:void 0),o||null},H=async({cacheName:s,request:e,event:t,matchOptions:r,plugins:o=[]})=>{let n=await self.caches.open(s),a=await G({plugins:o,request:e,mode:"read"}),i=await n.match(a,r);for(let c of o)"cachedResponseWillBeUsed"in c&&(i=await c.cachedResponseWillBeUsed.call(c,{cacheName:s,event:t,matchOptions:r,cachedResponse:i,request:a}));return i},te=async({cacheName:s,request:e,response:t,event:r,plugins:o=[],matchOptions:n})=>{let a=await G({plugins:o,request:e,mode:"write"});if(!t)throw new p("cache-put-with-no-response",{url:P(a.url)});let i=await ee({event:r,plugins:o,response:t,request:a});if(!i)return;let c=await self.caches.open(s),u=v.filter(o,"cacheDidUpdate"),w=u.length>0?await H({cacheName:s,matchOptions:n,request:a}):null;try{await c.put(a,i)}catch(l){throw l.name==="QuotaExceededError"&&await B(),l}for(let l of u)await l.cacheDidUpdate.call(l,{cacheName:s,event:r,oldResponse:w,newResponse:i,request:a})},h={put:te,match:H};var re=async({request:s,fetchOptions:e,event:t,plugins:r=[]})=>{if(typeof s=="string"&&(s=new Request(s)),t instanceof FetchEvent&&t.preloadResponse){let i=await t.preloadResponse;if(i)return i}let o=v.filter(r,"fetchDidFail"),n=o.length>0?s.clone():null;try{for(let i of r)if("requestWillFetch"in i){let c=i.requestWillFetch,u=s.clone();s=await c.call(i,{request:u,event:t})}}catch(i){throw new p("plugin-error-request-will-fetch",{thrownError:i})}let a=s.clone();try{let i;s.mode==="navigate"?i=await fetch(s):i=await fetch(s,e);for(let c of r)"fetchDidSucceed"in c&&(i=await c.fetchDidSucceed.call(c,{event:t,request:a,response:i}));return i}catch(i){for(let c of o)await c.fetchDidFail.call(c,{error:i,event:t,originalRequest:n.clone(),request:a.clone()});throw i}},g={fetch:re};try{self["workbox:strategies:5.1.4"]&&_()}catch{}var C=class{constructor(e={}){this._cacheName=f.getRuntimeName(e.cacheName),this._plugins=e.plugins||[],this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:t}){let r=[];typeof t=="string"&&(t=new Request(t));let o=await h.match({cacheName:this._cacheName,request:t,event:e,matchOptions:this._matchOptions,plugins:this._plugins}),n;if(!o)try{o=await this._getFromNetwork(t,e)}catch(a){n=a}if(!o)throw new p("no-response",{url:t.url,error:n});return o}async _getFromNetwork(e,t){let r=await g.fetch({request:e,event:t,fetchOptions:this._fetchOptions,plugins:this._plugins}),o=r.clone(),n=h.put({cacheName:this._cacheName,request:e,response:o,event:t,plugins:this._plugins});if(t)try{t.waitUntil(n)}catch{}return r}};var N={cacheWillUpdate:async({response:s})=>s.status===200||s.status===0?s:null};var q=class{constructor(e={}){if(this._cacheName=f.getRuntimeName(e.cacheName),e.plugins){let t=e.plugins.some(r=>!!r.cacheWillUpdate);this._plugins=t?e.plugins:[N,...e.plugins]}else this._plugins=[N];this._networkTimeoutSeconds=e.networkTimeoutSeconds||0,this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:t}){let r=[];typeof t=="string"&&(t=new Request(t));let o=[],n;if(this._networkTimeoutSeconds){let{id:c,promise:u}=this._getTimeoutPromise({request:t,event:e,logs:r});n=c,o.push(u)}let a=this._getNetworkPromise({timeoutId:n,request:t,event:e,logs:r});o.push(a);let i=await Promise.race(o);if(i||(i=await a),!i)throw new p("no-response",{url:t.url});return i}_getTimeoutPromise({request:e,logs:t,event:r}){let o;return{promise:new Promise(a=>{o=setTimeout(async()=>{a(await this._respondFromCache({request:e,event:r}))},this._networkTimeoutSeconds*1e3)}),id:o}}async _getNetworkPromise({timeoutId:e,request:t,logs:r,event:o}){let n,a;try{a=await g.fetch({request:t,event:o,fetchOptions:this._fetchOptions,plugins:this._plugins})}catch(i){n=i}if(e&&clearTimeout(e),n||!a)a=await this._respondFromCache({request:t,event:o});else{let i=a.clone(),c=h.put({cacheName:this._cacheName,request:t,response:i,event:o,plugins:this._plugins});if(o)try{o.waitUntil(c)}catch{}}return a}_respondFromCache({event:e,request:t}){return h.match({cacheName:this._cacheName,request:t,event:e,matchOptions:this._matchOptions,plugins:this._plugins})}};var A=class{constructor(e={}){if(this._cacheName=f.getRuntimeName(e.cacheName),this._plugins=e.plugins||[],e.plugins){let t=e.plugins.some(r=>!!r.cacheWillUpdate);this._plugins=t?e.plugins:[N,...e.plugins]}else this._plugins=[N];this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:t}){let r=[];typeof t=="string"&&(t=new Request(t));let o=this._getFromNetwork({request:t,event:e}),n=await h.match({cacheName:this._cacheName,request:t,event:e,matchOptions:this._matchOptions,plugins:this._plugins}),a;if(n){if(e)try{e.waitUntil(o)}catch{}}else try{n=await o}catch(i){a=i}if(!n)throw new p("no-response",{url:t.url,error:a});return n}async _getFromNetwork({request:e,event:t}){let r=await g.fetch({request:e,event:t,fetchOptions:this._fetchOptions,plugins:this._plugins}),o=h.put({cacheName:this._cacheName,request:e,response:r.clone(),event:t,plugins:this._plugins});if(t)try{t.waitUntil(o)}catch{}return r}};function S(s){s.then(()=>{})}var $=class{constructor(e,t,{onupgradeneeded:r,onversionchange:o}={}){this._db=null,this._name=e,this._version=t,this._onupgradeneeded=r,this._onversionchange=o||(()=>this.close())}get db(){return this._db}async open(){if(!this._db)return this._db=await new Promise((e,t)=>{let r=!1;setTimeout(()=>{r=!0,t(new Error("The open request was blocked and timed out"))},this.OPEN_TIMEOUT);let o=indexedDB.open(this._name,this._version);o.onerror=()=>t(o.error),o.onupgradeneeded=n=>{r?(o.transaction.abort(),o.result.close()):typeof this._onupgradeneeded=="function"&&this._onupgradeneeded(n)},o.onsuccess=()=>{let n=o.result;r?n.close():(n.onversionchange=this._onversionchange.bind(this),e(n))}}),this}async getKey(e,t){return(await this.getAllKeys(e,t,1))[0]}async getAll(e,t,r){return await this.getAllMatching(e,{query:t,count:r})}async getAllKeys(e,t,r){return(await this.getAllMatching(e,{query:t,count:r,includeKeys:!0})).map(n=>n.key)}async getAllMatching(e,{index:t,query:r=null,direction:o="next",count:n,includeKeys:a=!1}={}){return await this.transaction([e],"readonly",(i,c)=>{let u=i.objectStore(e),w=t?u.index(t):u,l=[],E=w.openCursor(r,o);E.onsuccess=()=>{let k=E.result;k?(l.push(a?k:k.value),n&&l.length>=n?c(l):k.continue()):c(l)}})}async transaction(e,t,r){return await this.open(),await new Promise((o,n)=>{let a=this._db.transaction(e,t);a.onabort=()=>n(a.error),a.oncomplete=()=>o(),r(a,i=>o(i))})}async _call(e,t,r,...o){let n=(a,i)=>{let c=a.objectStore(t),u=c[e].apply(c,o);u.onsuccess=()=>i(u.result)};return await this.transaction([t],r,n)}close(){this._db&&(this._db.close(),this._db=null)}};$.prototype.OPEN_TIMEOUT=2e3;var oe={readonly:["get","count","getKey","getAll","getAllKeys"],readwrite:["add","put","clear","delete"]};for(let[s,e]of Object.entries(oe))for(let t of e)t in IDBObjectStore.prototype&&($.prototype[t]=async function(r,...o){return await this._call(t,r,s,...o)});var Q=async s=>{await new Promise((e,t)=>{let r=indexedDB.deleteDatabase(s);r.onerror=()=>{t(r.error)},r.onblocked=()=>{t(new Error("Delete blocked"))},r.onsuccess=()=>{e()}})};try{self["workbox:expiration:5.1.4"]&&_()}catch{}var se="workbox-expiration",y="cache-entries",J=s=>{let e=new URL(s,location.href);return e.hash="",e.href},F=class{constructor(e){this._cacheName=e,this._db=new $(se,1,{onupgradeneeded:t=>this._handleUpgrade(t)})}_handleUpgrade(e){let r=e.target.result.createObjectStore(y,{keyPath:"id"});r.createIndex("cacheName","cacheName",{unique:!1}),r.createIndex("timestamp","timestamp",{unique:!1}),Q(this._cacheName)}async setTimestamp(e,t){e=J(e);let r={url:e,timestamp:t,cacheName:this._cacheName,id:this._getId(e)};await this._db.put(y,r)}async getTimestamp(e){return(await this._db.get(y,this._getId(e))).timestamp}async expireEntries(e,t){let r=await this._db.transaction(y,"readwrite",(n,a)=>{let c=n.objectStore(y).index("timestamp").openCursor(null,"prev"),u=[],w=0;c.onsuccess=()=>{let l=c.result;if(l){let E=l.value;E.cacheName===this._cacheName&&(e&&E.timestamp<e||t&&w>=t?u.push(l.value):w++),l.continue()}else a(u)}}),o=[];for(let n of r)await this._db.delete(y,n.id),o.push(n.url);return o}_getId(e){return this._cacheName+"|"+J(e)}};var W=class{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._cacheName=e,this._timestampModel=new F(e)}async expireEntries(){if(this._isRunning){this._rerunRequested=!0;return}this._isRunning=!0;let e=this._maxAgeSeconds?Date.now()-this._maxAgeSeconds*1e3:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),r=await self.caches.open(this._cacheName);for(let o of t)await r.delete(o);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,S(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){let t=await this._timestampModel.getTimestamp(e),r=Date.now()-this._maxAgeSeconds*1e3;return t<r}else return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}};function K(s){U.add(s)}var V=class{constructor(e={}){this.cachedResponseWillBeUsed=async({event:t,request:r,cacheName:o,cachedResponse:n})=>{if(!n)return null;let a=this._isResponseDateFresh(n),i=this._getCacheExpiration(o);S(i.expireEntries());let c=i.updateTimestamp(r.url);if(t)try{t.waitUntil(c)}catch{}return a?n:null},this.cacheDidUpdate=async({cacheName:t,request:r})=>{let o=this._getCacheExpiration(t);await o.updateTimestamp(r.url),await o.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&K(()=>this.deleteCacheAndMetadata())}_getCacheExpiration(e){if(e===f.getRuntimeName())throw new p("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new W(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;let t=this._getDateHeaderTimestamp(e);if(t===null)return!0;let r=Date.now();return t>=r-this._maxAgeSeconds*1e3}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;let t=e.headers.get("date"),o=new Date(t).getTime();return isNaN(o)?null:o}async deleteCacheAndMetadata(){for(let[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}};try{self["workbox:core:6.2.4"]&&_()}catch{}var on={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration<"u"?registration.scope:""};function M(){self.skipWaiting()}M();R(({request:s})=>s.destination==="script"||s.destination==="style",new A({cacheName:"static-cache"}));R(({request:s})=>s.destination==="document",new q({cacheName:"html-cache"}));R(({request:s})=>s.destination==="image",new C({cacheName:"image-cache",plugins:[new V({maxEntries:20,maxAgeSeconds:7*24*60*60})]}));})();
